<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mess & Menu</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">

    
    <nav class="bg-white shadow-md px-6 py-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-blue-600">Mess Finder</h1>
       
        <div class="relative">
            <button id="profileBtn" class="flex items-center space-x-2 focus:outline-none">
                <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" 
                     alt="User" class="w-10 h-10 rounded-full border">
            </button>

            <div id="profileMenu" 
                 class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50">
                <a href="{% url 'user_profile' %}" class="block px-4 py-2 hover:bg-gray-100 text-gray-700">üë§ Profile</a>
                <form method="post" action="{% url 'logout' %}">
                    {% csrf_token %}
                    <button type="submit" 
                        class="w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600">
                        üö™ Logout
                    </button>
                </form>
            </div>
        </div>
    </nav>

    
    <div class="p-6">
        <h1 class="text-3xl font-bold text-center mb-8">All Messes & Menus</h1>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for mess in messes %}
            <div class="bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition">
                
                <div class="p-4">
                    <h2 class="text-xl font-bold text-blue-700">{{ mess.name }}</h2>
                    <p class="text-gray-600">{{ mess.address }}, {{ mess.location }} - {{ mess.pincode }}</p>
                    <p class="text-gray-500">üìû {{ mess.contact }}</p>
                    <p class="text-gray-500">üç¥ {{ mess.food_type }}</p>
                    <p class="text-sm text-gray-600 mt-2">{{ mess.description }}</p>
                </div>

               
                <div class="border-t px-4 py-3 bg-gray-50">
                    <h3 class="font-semibold text-lg mb-2">Menu:</h3>
                    <ul class="space-y-2">
                        {% for item in mess.menuitem_set.all %}
                        <li class="flex items-center space-x-3 border p-2 rounded-lg hover:bg-gray-100">
                            {% if item.photo %}
                                <img src="{{ item.photo.url }}" alt="{{ item.name }}" class="w-12 h-12 rounded-lg object-cover">
                            {% endif %}
                            <div class="flex-1">
                                <p class="font-medium">{{ item.name }}</p>
                                <p class="text-sm text-gray-600">{{ item.description }}</p>
                                <p class="text-green-600 font-semibold">‚Çπ{{ item.price }}</p>
                            </div>
                            <
                            <button onclick="addToCart('{{ mess.id }}','{{ item.id }}','{{ item.name }}','{{ item.price }}')"
                                class="bg-blue-500 text-white px-3 py-1 rounded-lg hover:bg-blue-600">
                                Add
                            </button>
                        </li>
                        {% empty %}
                        <p class="text-gray-400">No menu items available</p>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    
    <div class="fixed bottom-5 right-5 w-80 bg-white shadow-xl rounded-2xl p-4">
        <h2 class="text-xl font-bold text-blue-600 mb-3">üõí Your Cart</h2>
        <ul id="cartItems" class="space-y-2"></ul>
        <p class="mt-2 font-semibold">Total: ‚Çπ<span id="cartTotal">0</span></p>

        <form method="post" action="{% url 'checkout' %}">
            {% csrf_token %}
            <input type="hidden" name="cart_data" id="cartData">
            <button type="submit" 
                class="mt-3 w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600">
                Checkout
            </button>
        </form>
    </div>

    
    <script>
        const profileBtn = document.getElementById("profileBtn");
        const profileMenu = document.getElementById("profileMenu");
        profileBtn.addEventListener("click", () => {
            profileMenu.classList.toggle("hidden");
        });
        window.addEventListener("click", (e) => {
            if (!profileBtn.contains(e.target) && !profileMenu.contains(e.target)) {
                profileMenu.classList.add("hidden");
            }
        });

        let cart = [];
        function addToCart(messId, itemId, name, price) {
            cart.push({messId, itemId, name, price: parseFloat(price)});
            renderCart();
        }
        function renderCart() {
            const cartList = document.getElementById("cartItems");
            cartList.innerHTML = "";
            let total = 0;
            cart.forEach((item, index) => {
                total += item.price;
                cartList.innerHTML += `
                    <li class="flex justify-between items-center border p-2 rounded-lg">
                        <span>${item.name} - ‚Çπ${item.price}</span>
                        <button onclick="removeFromCart(${index})" class="text-red-500">‚úñ</button>
                    </li>
                `;
            });
            document.getElementById("cartTotal").innerText = total.toFixed(2);
            document.getElementById("cartData").value = JSON.stringify(cart);
        }
        function removeFromCart(index) {
            cart.splice(index, 1);
            renderCart();
        }
    </script>

</body>
</html> -->
